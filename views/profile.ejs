<% include ./partials/header.ejs %>

<!-- Profile Header -->
<section class="max-w-5xl mx-auto text-center mt-10">
    <form id="uploadform" hidden action="/fileupload" method="post" enctype="multipart/form-data">
        <input type="file" name="image">
    </form>
  <div class="flex flex-col items-center">
    <div class="relative">
      <span
        class="w-8 h-8 absolute bottom-0 right-2 rounded-full flex items-center justify-center bg-zinc-200"
      >
        <i id="uploadicon" class="ri-pencil-ai-line"></i>
      </span>

      <div class="w-32 h-32 rounded-full border-4 border-white shadow-md overflow-hidden">
  <img
    src="<%= user.profileImage ? '/images/uploads/' + user.profileImage : 'https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png' %>"
    alt="Profile Image"
    class="w-full h-full object-cover"
  />
</div>
    </div>
    <h1 class="text-2xl font-bold mt-3"><%=user.fullname%></h1>
    <p class="text-gray-500">@<%=user.username%></p>
    <p class="text-sm text-gray-600 mt-2">
      Exploring creativity one pin at a time ðŸŒŸ
    </p>

    <div class="flex gap-4 mt-4">
        <a href="/add"
        class="border border-gray-300 px-4 py-2 rounded-full hover:bg-gray-100 transition"
      >
        + Create post
      </a>
        <a
  href="/logout"
  class="bg-[#e60023] text-white px-4 py-2 rounded-full hover:bg-[#c1001f] transition"
>
  Logout
</a>
    </div>
  </div>
</section>

<section class="p-10 flex flex-wrap gap-5">
  <div class="cards">
  <a href="/show/posts">
    <div
      class="w-[14vw] h-[18vh] bg-zinc-200 rounded-lg overflow-hidden shadow"
    >
      <img
        class="h-full w-full object-cover"
        src="https://images.ctfassets.net/h67z7i6sbjau/2vXER76o0uEwrTc1oRk7OY/bda8ae3e1a9c2ebb5b2065aee72973c4/How_Pinterest_works-OG-1200x630_1x.jpg?fm=webp&q=85"
        alt="image"
      />
    </div>
    <h3 class="text-xl font-semibold mt-3">All pins</h3>
    <h5 class="text-sm font-medium opacity-60"><%= user.posts.length%></h5>
  </div>
  </a>
</section>


<script>
    document.querySelector('#uploadicon').addEventListener("click",function(){
        document.querySelector('#uploadform input').click();
    })

    document.querySelector('#uploadform input').addEventListener("change",function(){
        document.querySelector("#uploadform").submit();
    })
</script>

<% include ./partials/footer.ejs %>
